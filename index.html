<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ãƒŸãƒ‹ã‚ã¤æ£®é¢¨ã‚²ãƒ¼ãƒ </title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    margin: 20px;
  }
  #game {
    display: grid;
    grid-template-columns: repeat(10, 40px);
    grid-template-rows: repeat(10, 40px);
    gap: 2px;
    justify-content: center;
    margin: 20px auto;
  }
  .cell {
    width: 40px;
    height: 40px;
    background-color: #a2d149;
    border: 1px solid #5a7d1a;
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
  }
  .tree {
    background-color: #3b7a1f;
    color: #0f3e06;
  }
</style>
</head>
<body>

<h1>ãƒŸãƒ‹ã‚ã¤æ£®é¢¨ã‚²ãƒ¼ãƒ </h1>
<p>ãƒã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æœ¨ã‚’æ¤ãˆã‚ˆã†ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>

<div id="game"></div>

<script>
  const size = 10;
  const gameEl = document.getElementById('game');

  // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’localStorageã‹ã‚‰å–å¾—ï¼ˆJSON.parseã—å¿˜ã‚Œæ³¨æ„ï¼‰
  let mapData = JSON.parse(localStorage.getItem('miniAtsumoriMap')) || Array(size*size).fill(null);

  // ã‚»ãƒ«ã‚’ä½œã£ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
  function renderMap() {
    gameEl.innerHTML = '';
    for (let i = 0; i < size*size; i++) {
      const cell = document.createElement('div');
      cell.className = 'cell';
      if (mapData[i] === 'tree') {
        cell.classList.add('tree');
        cell.textContent = 'ğŸŒ³';
      }
      cell.addEventListener('click', () => {
        if (mapData[i] === 'tree') {
          mapData[i] = null; // æœ¨ã‚’å‰Šé™¤
        } else {
          mapData[i] = 'tree'; // æœ¨ã‚’æ¤ãˆã‚‹
        }
        saveMap();
        renderMap();
      });
      gameEl.appendChild(cell);
    }
  }

  // ã‚»ãƒ¼ãƒ–ã™ã‚‹é–¢æ•°
  function saveMap() {
    localStorage.setItem('miniAtsumoriMap', JSON.stringify(mapData));
  }

  renderMap();
</script>

</body>
</html>
